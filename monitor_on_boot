#!/bin/zsh

dp1="DP-4-1"      # `DP-1` port of my dock
dp2="DP-4-2"      # `DP-2` port of my dock
dp3="DP-4-3"      # `HDMI` port of my dock
dp5="DP-5"        # `HDMI` from adaptater
intern="eDP-1"    # `main`

xrandr --dpi 144

# extras_monitors=$(xrandr --listmonitors | sed -n '1!p' | sed '/eDP-1/d' | sed -e 's/\s[0-9].*\s\([a-zA-Z0-9\-]*\)$/\1/g')
extras_monitors=$(xrandr | rg  'DP-.* connected' | awk '{print $1}' | sed '/eDP-1/d')

if [[ $extras_monitors = $dp3 ]]; then
    xrandr --output "$dp3" --primary --scale 2x2 --pos 0x0 --auto \
           --output "$intern" --pos 3840x0 --auto
    notify-send 'Xrandr' '[Home] layout selected'

elif [[ $extras_monitors = $dp1*$dp2 ]]; then
    xrandr --output "$dp1" --primary --scale 1.5x1.5 --pos 0x0 --auto \
           --output "$dp2" --scale 1.5x1.5 --pos 5120x0 --auto \
           --output "$intern" --off
    notify-send 'Xrandr' '[Office] layout selected'

elif [[ $extras_monitors = $dp5 ]]; then
    xrandr --output "$intern" --mode 1920x1080 --output "$dp5" --same-as eDP-1
    notify-send 'Xrandr' '[S190] layout selected'

elif [[ $extras_monitors = "" ]]; then
    xrandr --output "$intern" --primary --pos 0x0 --auto
    notify-send 'Xrandr' '[Labtop only] layout selected'

else
    notify-send 'Xrandr' '[Unsupported] layout'

fi

feh --bg-fill --no-fehbg ~/.wallpaper/Hopper-Gas-1940.png

# | xargs -n 1 -- bash -xc 'xrandr --output $0 --mode 1920x1080 --pos 0x0 --rotate normal'
